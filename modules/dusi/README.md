### Ассистент Дуся
Этот модуль позволяет отправлять команды [ассистенту Дуся](http://dusi.mobi) на вашем смартфоне и получать результат.

Другими словами, ваш Агрегат автоматически получает доступ к **десяткам функций**, которые выполняет ваш смартфон, и при этом все взаимодействие происходит через компьютер. Вам не нужно брать смартфон в руки, а результат выполнения команды на смартфоне вы видите сразу же на экране компьютера и слышите через аудиосистему компьютера.

Агрегат становится единой точкой управления, что позволяет не переключаться между ПК и смартфоном или планшетом, а использовать то устройство, которое удобнее использовать в данный момент.

[Версия 1.0.3](https://bintray.com/artifact/download/uzyovoys/aggregate/com/aggregate/dusi/1.0.2/dusi-1.0.3.jar)
[Версия 1.0.2](https://bintray.com/artifact/download/uzyovoys/aggregate/com/aggregate/dusi/1.0.2/dusi-1.0.2.jar)
[Версия 1.0.1](https://bintray.com/artifact/download/uzyovoys/aggregate/com/aggregate/dusi/1.0.1/dusi-1.0.1.jar)
[Версия 1.0.0](https://bintray.com/artifact/download/uzyovoys/aggregate/com/aggregate/dusi/1.0.0/dusi-1.0.0.jar)

#### Настройка
Перед установкой модуля включите в настройках ассистента Дуся опцию "Удаленное управление". Вы увидите на экране код доступа.
Укажите его в файле _dusi.json_ в директории _conf_. Например:

```javascript
{
  "id" : "ваш код доступа"
}
```

_Данная функция пока доступна только в альфа-версии 1.6.0 ассистента Дуся. Чтобы получить ее, необходимо вступить в [сообщество Google+ проекта Агрегат](https://plus.google.com/communities/107842291040103298448) и стать участником альфа-тестирования, пройдя по [этой ссылке](https://play.google.com/apps/testing/com.dusiassistant)_

#### Примеры команд
Данный модуль будет перенаправлять запрос Дусе только в том случае, если распознанный текст не обработался ни одним из установленных модулей.

Напиши сообщение маме
Планы на вечер
Какая погода
А завтра
Напомни через два часа пойти погулять
Какие пробки на невском
Кто такой Пушкин

И так далее. Вы можете запускать любые скрипты, и Дуся будет возвращать данные на компьютер.

#### Браузер
Если команда или скрипт в Дусе открывает браузер или возвращает ссылку вместе с ответом, то Агрегат откроет эту ссылку в вашем браузере по умолчанию.
Например, спросите - "Как выглядит солнечная система?" Агрегат откроет картинки в одной из вкладок браузера на вашем ПК.

#### Диалог
Конечно же, Агрегат поддерживает диалог, если команда или скрипт в Дусе запрашивают какие-то дополнительные данные от пользователя.
При этом микрофон не включается автоматически. Вам нужно снова активировать Агрегат (например клавиатурой) и ответить на вопрос. После чего ваша команда снова будет передана Дусе.

Таким образом диалоговая система работает как обычно. Вы просто командуете не смартфону, а компьютеру.

#### Управление Агрегатом
Вы также можете отправлять команды модулям Агрегата из Дуси.

Например: Вам необходимо отослать текст какой-либо песни другу по почте. Для этого в скрипте, который 
получает текст песни из интеренета, нужно вставить действие "Сказать":
![Действие](https://bytebucket.org/snippets/AntonPopov1/5jLeR/raw/fd8079791282aeded72035c80956bd722834b45b/action_image.png)

где текст формата `dusgate_request(say, текст для произношения)`.
При получении такого сообщения из Дуси, Агрегат думает, что вы произнесли фразу _`текст для произношения`_. 

Теперь при обращении к Агрегату, модуль "Ассистент Дуся" отправит сообщение в Дусю на смартфоне, где скрипт
получит из интернета текст песни и отправит запрос в Агрегат на произношение фразы _`пиши <текст песни>`_, модуль
диктовки услышит эту фразу и напечатает текст.

Вы также можете отправлять запрос вида `dusgate_request(имя события, )`, н.р.:`dusgate_request(cmd.makeScreenshot, )`


#### Энергопотребление
Для работы функции удаленного управления Дуся получает данные из сети и поддерживает подключение к серверам все время посредством сервисов Google.
Это может сказаться на энергопотреблении.

Плюс ко всему, режим сна может препятствовать взаимодействию приложения на смартфоне с серверами. В результате чего команды могут попросту не передаваться смартфону или выполняться слишком долго.

_Рекомендуется подключать смартфон к ПК или зарядному устройству, чтобы пользоваться этой функцией полноценно._

### Список изменений
#### 1.0.3

- Добавлена функция "Управление Агрегатом"

#### 1.0.2

- Исправлена кодировка в URL при открытии страницы

#### 1.0.1

- Переход на версию API 0.0.2
